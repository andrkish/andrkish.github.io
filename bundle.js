!function n(r,s,o){function a(e,t){if(!s[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}i=s[e]={exports:{}},r[e][0].call(i.exports,function(t){return a(r[e][1][t]||t)},i,i.exports,n,r,s,o)}return s[e].exports}for(var u="function"==typeof require&&require,t=0;t<o.length;t++)a(o[t]);return a}({1:[function(t,e,i){"use strict";var s,n=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t};function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.Game=i.Render=i.State=void 0,(a=s=s||{})[a.Empty=0]="Empty",a[a.Full=1]="Full";n(u,[{key:"glider",value:function(){this.state[this.toIndex(1,3)]=s.Full,this.state[this.toIndex(2,4)]=s.Full,this.state[this.toIndex(3,2)]=s.Full,this.state[this.toIndex(3,3)]=s.Full,this.state[this.toIndex(3,4)]=s.Full}},{key:"wrapPoint",value:function(t,e){return(t+e)%e}},{key:"isLive",value:function(t,e){t=this.wrapPoint(t,this.rows),e=this.wrapPoint(e,this.columns),t=this.toIndex(t,e);return this.state[t]==s.Full?1:0}},{key:"nCount",value:function(t){var t=this.toPoint(t),e=t.row,t=t.column,i=this.isLive.bind(this);return i(e-1,t-1)+i(e-1,t)+i(e-1,t+1)+i(e,t-1)+i(e,t+1)+i(e+1,t-1)+i(e+1,t)+i(e+1,t+1)}},{key:"doStep",value:function(){for(var t=new Array(this.total),e=0;e<this.total;e++){var i=this.nCount(e);this.state[e]==s.Full?t[e]=2==i||3==i?s.Full:s.Empty:t[e]=3==i?s.Full:s.Empty}this.state=t}},{key:"randomize",value:function(){for(var t=0;t<this.total;t++){var e=Math.random();this.state[t]=.5<e?s.Full:s.Empty}}},{key:"toPoint",value:function(t){return{row:Math.floor(t/this.columns),column:t%this.columns}}},{key:"toIndex",value:function(t,e){return t*this.columns+e}}]);var a=u;function u(t,e){o(this,u),this.rows=t,this.columns=e,this.total=t*e,this.state=new Array(this.total),this.glider()}i.State=a;n(h,[{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"renderCell",value:function(t,e,i){var n=0,i=(i==s.Full&&(n=this.field.width),this.spriteSize.width),r=this.spriteSize.height;this.context.drawImage(this.spritesheet,n,0,i,r,t,e,this.field.width,this.field.height)}}]);a=h;function h(t,e,i,n,r){o(this,h),this.canvas=t,this.context=e,this.spritesheet=i,this.field=n,this.spriteSize=r}i.Render=a,i.Game=function t(e,i){var r=this;o(this,t),this.state=e,this.render=i,this.frames=0,this.update=function(){r.frames+=1,r.frames%5==0&&(r.frames=0,r.state.doStep()),r.render.clear();for(var t=r.state,e=0;e<t.total;e++){var i=t.toPoint(e),n=i.column*r.render.field.width,i=i.row*r.render.field.height;r.render.renderCell(n,i,t.state[e])}requestAnimationFrame(r.update)},this.update()}},{}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=t("./engine");function n(){var i=document.getElementById("canvas"),n=i.getContext("2d"),r=new Image;r.onload=function(){var t=new s.State(19,25),e=new s.Render(i,n,r,{width:32,height:32},{width:32,height:32});new s.Game(t,e)},r.src="spritesheet.png"}"complete"==document.readyState?n():window.onload=function(){n()}},{"./engine":1}]},{},[2]);