!function i(r,o,s){function a(e,t){if(!o[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=o[e]={exports:{}},r[e][0].call(n.exports,function(t){return a(r[e][1][t]||t)},n,n.exports,i,r,o,s)}return o[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,n){"use strict";var o,i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Game=n.GameOptions=n.Render=n.State=void 0,(a=o=o||{})[a.Empty=0]="Empty",a[a.Full=1]="Full";i(u,[{key:"glider",value:function(){this.state[this.toIndex(1,3)]=o.Full,this.state[this.toIndex(2,4)]=o.Full,this.state[this.toIndex(3,2)]=o.Full,this.state[this.toIndex(3,3)]=o.Full,this.state[this.toIndex(3,4)]=o.Full}},{key:"wrapPoint",value:function(t,e){return(t+e)%e}},{key:"isLive",value:function(t,e){t=this.wrapPoint(t,this.rows),e=this.wrapPoint(e,this.columns),t=this.toIndex(t,e);return this.state[t]==o.Full?1:0}},{key:"nCount",value:function(t){var t=this.toPoint(t),e=t.row,t=t.column,n=this.isLive.bind(this);return n(e-1,t-1)+n(e-1,t)+n(e-1,t+1)+n(e,t-1)+n(e,t+1)+n(e+1,t-1)+n(e+1,t)+n(e+1,t+1)}},{key:"doStep",value:function(){for(var t=new Array(this.total),e=0;e<this.total;e++){var n=this.nCount(e);this.state[e]==o.Full?t[e]=2==n||3==n?o.Full:o.Empty:t[e]=3==n?o.Full:o.Empty}this.state=t}},{key:"randomize",value:function(){for(var t=0;t<this.total;t++){var e=Math.random();this.state[t]=.9<e?o.Full:o.Empty}}},{key:"toPoint",value:function(t){return{row:Math.floor(t/this.columns),column:t%this.columns}}},{key:"toIndex",value:function(t,e){return t*this.columns+e}}]);var a=u;function u(t,e){s(this,u),this.rows=t,this.columns=e,this.total=t*e,this.state=new Array(this.total),this.glider(),this.randomize()}n.State=a;i(l,[{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"renderCell",value:function(t,e,n){var i=0,n=(n==o.Full&&(i=this.field.width),this.spriteSize.width),r=this.spriteSize.height;this.context.drawImage(this.spritesheet,i,0,n,r,t,e,this.field.width,this.field.height)}}]);a=l;function l(t,e,n,i,r){s(this,l),this.canvas=t,this.context=e,this.spritesheet=n,this.field=i,this.spriteSize=r}n.Render=a;function h(t,e,n){var r=this;s(this,h),this.state=t,this.render=e,this.options=n,this.frames=0,this.update=function(){r.frames+=1,r.frames%r.options.skipFrames==0&&(r.frames=0,r.state.doStep()),r.render.clear();for(var t=r.state,e=0;e<t.total;e++){var n=t.toPoint(e),i=n.column*r.render.field.width,n=n.row*r.render.field.height;!r.options.drawEmpty&&t.state[e]==o.Empty||r.render.renderCell(i,n,t.state[e])}requestAnimationFrame(r.update)},this.update()}n.GameOptions=function t(e,n){s(this,t),this.drawEmpty=e,this.skipFrames=n};n.Game=h},{}],2:[function(t,e,n){"use strict";var i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0,i(o,[{key:"log",value:function(t){console.log(t)}}]),n.Logger=o},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("./engine"),u=t("./setup");function i(){var r=document.getElementById("canvas"),o=r.getContext("2d"),s=new Image;s.onload=function(){var t,e,n,i;(0,u.setup)(),t=r,e=o,n=s,i=new a.State(608,800),t=new a.Render(t,e,n,{width:1,height:1},{width:1,height:1}),e=new a.GameOptions(!1,1),new a.Game(i,t,e)},s.src="sprite1x1.png"}"complete"==document.readyState?i():window.onload=function(){i()}},{"./engine":1,"./setup":4}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setup=void 0;var i=t("./logger");n.setup=function(){window.logger=new i.Logger}},{"./logger":2}]},{},[3]);